# 节流和防抖

1. 节流（throttle）

定义：如果一个函数持续的，频繁地触发，那么让它在一定的时间间隔后再触发。

举例：一个函数一分钟持续，频繁执行60次，我们要节流，就让这个函数执行之后，2秒才会触发第二次，这就达到了，**减少触发频率**，节流得目的

2. 防抖（debounce）

定义：如果一个函数被一个动作持续地触发，那么只在这个动作结束后一段时间才执行一次。

举例：两个人对话，A和B，我们把A当作触发动作，B当作被触发得函数，那么B什么时候被触发（也就是说话），在A说话停顿一段时间后，确定A说完了，B再开始说话。这就是防抖。

3. 场景

前提其实都是某个行为持续地触发，不同之处只要判断是要优化到减少它的执行次数还是只执行一次就行。

4. 例子

```
// 防抖
let timer = null;

function debouce(fn, layer) {
  return function() {
    if (timer) clearTimeout(timer);
    timer = setTimeout(() => {
        fn.apply(this);
      }, layer);
  };
}

function aa() {
  console.log(1);
}

window.addEventListener("scroll", debouce(aa, 1000));
```
