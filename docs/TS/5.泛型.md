# 泛型

1. 泛型函数

```ts
function identity<T>(arg: T): T {
  return arg;
}

console.log(identity(10)); // 10
```

2. 泛型接口

```ts
interface IGeneric<T> {
  (arg: T): void;
}
```

3. 泛型类

```ts
class Person<T> {
  love: T;
  say: (arg: T) => T;
}

let me = new Person<string>();
me.love = "TS";
```

4. 泛型对象

```ts
interface IGeneric {
  <T>(arg: T): void;
}
let foo: IGeneric = function<T>(arg: T): void {
  console.log(arg);
};
foo(13); // 13
```

5. 泛型约束(没怎么看懂)

泛型可以通过 extends 一个接口来实现泛型约束，写法如：<泛型变量 extends 接口> ，例子：

```ts
interface IArray {
  length: number;
}

function logIndex<T extends IArray>(arg: T): void {
  for (let i = 0; i < arg.length; ++i) {
    console.log(i);
  }
}

let arr = [1, 2, 3];
// logIndex<number>(arr) // 报错
logIndex<number[]>(arr); // 允许
logIndex(arr); // 自动类型推导，允许
```

可以在泛型里使用类类型，如使用泛型创建工厂函数，需要引用构造函数的类类型，有：

```ts
function create<T>(c: { new (): T }): T {
  return new c();
}
```
